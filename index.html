<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>PRIMECORE – Text Adventure</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Minimaler, stabiler Stil -->
  <style>
    body {
      margin: 0;
      font-family: monospace;
      background: #0a0a0a;
      color: #00ff00;
    }

    header {
      text-align: center;
      padding: 15px;
      border-bottom: 2px solid #00ff00;
    }

    main {
      display: flex;
      gap: 20px;
      padding: 20px;
      max-width: 1200px;
      margin: auto;
    }

    aside {
      width: 300px;
      border: 1px solid #00ff00;
      padding: 15px;
    }

    section {
      flex: 1;
      border: 1px solid #00ff00;
      display: flex;
      flex-direction: column;
    }

    #gameLog {
      flex: 1;
      padding: 15px;
      overflow-y: auto;
      border-bottom: 1px solid #00ff00;
    }

    .log-entry {
      margin-bottom: 8px;
    }

    button {
      background: #001100;
      color: #00ff00;
      border: 1px solid #00ff00;
      padding: 10px;
      cursor: pointer;
    }

    button:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }

    .hidden {
      display: none;
    }

    .health-bar {
      background: #330000;
      height: 20px;
      margin-top: 5px;
    }

    #healthBar {
      height: 100%;
      background: red;
      width: 100%;
    }

    .inventory {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 5px;
      margin-top: 5px;
    }

    .item {
      border: 1px solid #00ff00;
      text-align: center;
      font-size: 0.8em;
      padding: 4px;
    }

    .actions {
      padding: 15px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 10px;
    }

    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.9);
      display: none;
      justify-content: center;
      align-items: center;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      border: 2px solid #00ff00;
      padding: 20px;
      background: #000;
      max-width: 500px;
      width: 90%;
    }
  </style>
</head>

<body>

<header>
  <h1>PRIMECORE</h1>
  <p>Survival Text Adventure</p>
</header>

<main>

  <!-- STATUS -->
  <aside>
    <div>
      <strong>BIOM:</strong>
      <div id="currentBiome">—</div>
    </div>

    <hr>

    <div>
      <strong>LEBEN:</strong>
      <div class="health-bar">
        <div id="healthBar"></div>
      </div>
      <div id="healthText">100/100</div>
    </div>

    <hr>

    <div>
      <strong>INVENTAR (<span id="itemCount">0</span>)</strong>
      <div id="inventory" class="inventory"></div>
    </div>

    <hr>

    <div>
      <strong>MUTANTENBLUT</strong>
      <div id="mutantBlood">0/3</div>
    </div>
  </aside>

  <!-- SPIEL -->
  <section>

    <div id="gameLog">
      <div class="log-entry">Willkommen in PRIMECORE.</div>
      <div class="log-entry">Besiege den Endboss TYRANOCELUS ARCEPHALUS.</div>
    </div>

    <!-- BIOM AUSWAHL -->
    <div class="actions" id="biomeSelection">
      <button onclick="selectBiome(0)">Long Island</button>
      <button onclick="selectBiome(1)">Cryo Zone</button>
      <button onclick="selectBiome(2)">Obsidian Wilderness</button>
    </div>

    <!-- HAUPTMENÜ -->
    <div class="actions hidden" id="mainMenu">
      <button onclick="explore()">Erkunden</button>
      <button onclick="showDungeons()">Dungeon</button>
      <button onclick="showCrafting()">Craften</button>
      <button onclick="showBiomeChange()">Biom wechseln</button>
      <button onclick="challengeEndBoss()" id="bossBtn" disabled>Endboss</button>
    </div>

    <!-- KAMPF -->
    <div class="actions hidden" id="combatMenu">
      <div id="combatInfo"></div>
      <button onclick="combatAction('attack')">Angreifen</button>
      <button onclick="combatAction('flee')">Fliehen</button>
    </div>

    <!-- BOSS -->
    <div class="actions hidden" id="bossCombatMenu">
      <div id="bossCombatInfo"></div>
      <button onclick="bossCombatAction('attack')">Angreifen</button>
      <button onclick="bossCombatAction('special')">Spezial</button>
    </div>

    <!-- DUNGEON -->
    <div class="actions hidden" id="dungeonSelect">
      <div id="dungeonButtons"></div>
      <button onclick="showMain()">Zurück</button>
    </div>

    <!-- CRAFTING -->
    <div class="actions hidden" id="craftingMenu">
      <div id="craftingButtons"></div>
      <button onclick="showMain()">Zurück</button>
    </div>

    <!-- BIOM WECHSEL -->
    <div class="actions hidden" id="biomeChange">
      <button onclick="changeBiome(0)">Long Island</button>
      <button onclick="changeBiome(1)">Cryo Zone</button>
      <button onclick="changeBiome(2)">Obsidian</button>
      <button onclick="showMain()">Zurück</button>
    </div>

  </section>
</main>

<!-- RÄTSEL -->
<div class="modal" id="riddleModal">
  <div class="modal-content">
    <h2>Dungeon Rätsel</h2>
    <p id="riddleText"></p>
    <input id="riddleInput">
    <p>Leben: <span id="riddleHealth">100</span></p>
    <button onclick="checkRiddle()">Antwort prüfen</button>
  </div>
</div>

<!-- ENDE -->
<div class="modal" id="endModal">
  <div class="modal-content">
    <h1 id="endTitle"></h1>
    <p id="endText"></p>
    <button onclick="location.reload()">Neues Spiel</button>
  </div>
</div>

<!-- SPIELLOGIK -->
<script src="game.js"></script>

</body>
</html>
